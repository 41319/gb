{"version":3,"file":"component---src-pages-number-finder-js-95531a88bf73f316955f.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/numberFinder.js"],"sourcesContent":["import * as React from \"react\"\nimport { Link } from \"gatsby\"\nimport { StaticImage } from \"gatsby-plugin-image\"\nimport Card from \"../components/Card\"\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport { Form, Button, InputGroup, Breadcrumb, Table } from '@themesberg/react-bootstrap';\nimport Grid from '../components/Grid'\nimport { navigate } from \"gatsby\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBell, faHome, faEnvelopeOpen, faSearch, faSignOutAlt, faUserShield, faAngleDown, faEye } from \"@fortawesome/free-solid-svg-icons\";\nimport Parse from '../vendor/Parse'\nimport { useLocation } from '@reach/router';\nimport NumberTable from '../components/NumberTable'\nimport { Modal } from '@themesberg/react-bootstrap';\nimport useAuth from \"../hooks/userAuth\";\n\nconst { useState } = React;\n\nconst Profile1 = \"images/2021-01-30.jpg\";\nconst IndexPage = () => {\n\n  const location = useLocation();\n  const qs = new URLSearchParams(location.search)\n  const { isLogin } = useAuth()\n  const [items, setItems] = useState([])\n  const [query, setQuery] = useState(qs.get('search') || \"\")\n  const [checklist, setChecklist] = useState([])\n  const [suggestion, setSuggestion] = useState([])\n  const [displayInfo, setDisplayInfo] = useState(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [isSuggestionLoading, setSuggestionLoading] = useState(false)\n  const searchNumbers = async (query) => {\n    setIsLoading(true)\n    const res = await Parse.Cloud.run('queryNumbers', {\n      query\n    })\n    setItems(res.data)\n    setIsLoading(false)\n  }\n\n  const notWhatsppFlow = ['admin', 'user'].includes(isLogin?.role)\n  const getMySuggestion = async () => {\n    setSuggestionLoading(true)\n    const res = await Parse.Cloud.run('getMySuggestedNumber')\n    setChecklist(res.checklist)\n    setSuggestion(res.suggestion)\n    setSuggestionLoading(false)\n  }\n\n  React.useEffect(() => {\n\n    searchNumbers(query)\n    getMySuggestion()\n\n  }, [])\n\n  const handleSearchButton = async () => {\n\n    await searchNumbers(query)\n\n  }\n\n  const handleItem = async (item) => {\n\n    if (notWhatsppFlow) {\n      const res = await Parse.Cloud.run('querySpecificNumber', {\n        _id: item._id\n      })\n\n      setDisplayInfo(<>\n        {res.num} is detected at  {res.sourceId} on {res.date}\n        <br />\n        <a style={{ color: '#25D366', textDecoration: 'none' }} href={`https://api.whatsapp.com/send?phone=6587413159&text=Find Mobile Number`}>whatsapp</a> us if you need help getting the number\n      </>)\n    } else {\n      const url = `https://api.whatsapp.com/send?phone=6587413159&text=` + encodeURIComponent(`Enquiry on ${item.num} with id ${item._id}`)\n      navigate(url)\n    }\n\n  }\n\n  const handleClose = () => {\n    setDisplayInfo(null)\n  }\n\n  return <Layout afterSearch={<></>} >\n    <h3 className=\"text-center\">SG Mobile Number Finding</h3>\n    <h2 className=\"text-center\">\n      <a style={{ color: '#25D366', textDecoration: 'none' }} href={`https://api.whatsapp.com/send?phone=6587413159&text=Find Mobile Number`}>whatsapp</a> us to access our number list\n    </h2>\n    <h3>Monitoring List - <span style={{ color: 'red' }}>We will Give You First Hand Information on your Monitoring List.</span></h3>\n    <h4> </h4>\n    <div>\n      <h4>{checklist.join(', ')}</h4>\n      <NumberTable isLoading={isSuggestionLoading} items={suggestion} onItem={(item) => { handleItem(item) }} />\n\n    </div>\n\n    <h3>Free Search For Other Number</h3>\n    <div className=\"d-xl-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4 flex-column\">\n      <Form className=\"\">\n        <Form.Group id=\"topbarSearch\">\n          <InputGroup className=\"input-group-merge search-bar\">\n            <InputGroup.Text><FontAwesomeIcon icon={faSearch} /></InputGroup.Text>\n            <Form.Control type=\"text\" name=\"search\" placeholder=\"Search\" value={query} onChange={(e) => setQuery(e.target.value)} />\n            <Button onClick={handleSearchButton} variant=\"primary\" size=\"sm\" className=\"me-2\">\n              Find\n            </Button>\n          </InputGroup>\n        </Form.Group>\n      </Form>\n      <NumberTable isLoading={isLoading} items={items} onItem={item => handleItem && handleItem(item)} />\n\n\n    </div>\n\n    <Modal as={Modal.Dialog} centered show={displayInfo} onHide={handleClose}>\n      <Modal.Header>\n        <Modal.Title className=\"h6\">Information</Modal.Title>\n        <Button variant=\"close\" aria-label=\"Close\" onClick={handleClose} />\n      </Modal.Header>\n      <Modal.Body>\n        {displayInfo}\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          I Got It\n        </Button>\n        <Button variant=\"link\" className=\"text-gray ms-auto\" onClick={handleClose}>\n          Close\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  </Layout >\n}\n\n/**\n * Head export to define metadata for the page\n *\n * See: https://www.gatsbyjs.com/docs/reference/built-in-components/gatsby-head/\n */\nexport const Head = () => <Seo title=\"Home\" />\n\nexport default IndexPage\n"],"names":["useState","React","Head","Seo","title","IndexPage","location","useLocation","qs","URLSearchParams","search","isLogin","useAuth","items","setItems","query","setQuery","get","checklist","setChecklist","suggestion","setSuggestion","displayInfo","setDisplayInfo","isLoading","setIsLoading","isSuggestionLoading","setSuggestionLoading","searchNumbers","async","res","Parse","Cloud","run","data","notWhatsppFlow","includes","role","getMySuggestion","handleItem","_id","item","num","sourceId","date","style","color","textDecoration","href","url","encodeURIComponent","navigate","handleClose","Layout","afterSearch","className","join","NumberTable","onItem","Form","Group","id","InputGroup","Text","FontAwesomeIcon","icon","faSearch","Control","type","name","placeholder","value","onChange","e","target","Button","onClick","variant","size","Modal","as","Dialog","centered","show","onHide","Header","Title","Body","Footer"],"sourceRoot":""}