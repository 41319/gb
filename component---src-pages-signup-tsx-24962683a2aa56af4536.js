"use strict";(self.webpackChunkinweb=self.webpackChunkinweb||[]).push([[278],{4677:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(5861),a=n(4687),l=n.n(a),c=n(7294),s=n(3639),u=n(2082),o=n(6594),m=n(7408),i=n(994),p=n(1597),d=n(4118),E=n(4093),v=n(7782);function Z(e){var t=e.type,n=void 0===t?"signup":t,a=(0,v.useTranslation)().t,Z=c.useState(""),f=Z[0],g=Z[1],w=c.useState({}),x=w[0],h=w[1],C=function(e,t){var n;h(Object.assign({},x,((n={})[e]=t,n)))};return c.createElement(s.Z,{className:""},c.createElement(i.Z,null,c.createElement(m.Z,{xs:"0",md:"3"}),c.createElement(m.Z,{xs:"12",md:"6"},c.createElement(E.Z,{className:"color-brand-1"},c.createElement(E.Z.Header,null," ",a(n)),c.createElement(E.Z.Body,null,c.createElement(u.Z,null,c.createElement(i.Z,null,c.createElement(m.Z,{xs:"12"},c.createElement(u.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1"},c.createElement(u.Z.Label,null,"Email Address"),c.createElement(u.Z.Control,{type:"text",placeholder:"",onChange:function(e){return C("email",e.target.value)}}))),"reset"!==n&&c.createElement(m.Z,{xs:"12"},c.createElement(u.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1"},c.createElement(u.Z.Label,null,"Password"),c.createElement(u.Z.Control,{type:"password",placeholder:"",onChange:function(e){return C("password",e.target.value)}})))),"signup"===n&&c.createElement(c.Fragment,null,c.createElement(o.Z,{variant:"primary",onClick:(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{d.c.Cloud.run("createUser",x).then((function(e){g(a("verifyEmailClause"))})).catch((function(e){g(null==e?void 0:e.message)}))}catch(t){g(null==t?void 0:t.message)}case 1:case"end":return e.stop()}}),e)})))},"Sign Up"),c.createElement("div",null,c.createElement("br",null),f))," ","login"===n&&c.createElement(c.Fragment,null,c.createElement(o.Z,{variant:"primary",onClick:(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.c.User.logIn(x.email,x.password);case 3:return e.next=5,d.c.Cloud.run("getMyProfile");case 5:e.sent?(0,p.navigate)("/"):(0,p.navigate)("/account"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))},"Login")," ",c.createElement(p.Link,{to:"/reset"},"Reset Password"),c.createElement("div",null,f)),"reset"===n&&c.createElement(c.Fragment,null,c.createElement(o.Z,{variant:"primary",onClick:(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.c.User.requestPasswordReset(x.email);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),g(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))},"Reset Password"),c.createElement("div",null,f)))))),c.createElement(m.Z,{xs:"0",md:"3"})))}},8133:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var r=n(7294),a=n(1018),l=n(4677);function c(){var e=r.useState(""),t=(e[0],e[1],r.useState({type:0}));t[0],t[1];return r.createElement(a.Z,null,r.createElement("section",{className:"section"},r.createElement(l.Z,{type:"signup"})))}}}]);
//# sourceMappingURL=component---src-pages-signup-tsx-24962683a2aa56af4536.js.map