{"version":3,"file":"component---src-pages-index-tsx-883dc33c57ad20f178ed.js","mappings":"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","sources":["webpack://inweb/./src/helpers/action.ts","webpack://inweb/./src/components/tab/tab.tsx","webpack://inweb/./src/components/card/Product.tsx","webpack://inweb/./src/pages/index.tsx","webpack://inweb/./src/components/counter/index.js"],"sourcesContent":["import {\n    UPDATE_CART,\n    SHOW_LOADER,\n    HIDE_LOADER,\n  } from \"../state/actions/actions\";\n\nexport const updateCart = ({ id, quantity, comments }) => ({\n    type: UPDATE_CART,\n    payload: {\n        item: {\n            id,\n            quantity,\n            comments\n        }\n    }\n})","import React from \"react\";\nimport ProductCard from \"../card/Product\";\n\nconst Component = ({ title, titleBold, children, tabObject = {} }) => {\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-xl-12\">\n          <div className=\"section__head d-md-flex justify-content-between mb-40\">\n            <div className=\"section__title\">\n              <h3>\n                GroupBuy<span> Deals</span>\n              </h3>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-xl-12\">\n          <div className=\"tab-content\" id=\"flast-sell-tabContent\">\n            {Object.keys(tabObject).map((tabKey, i) => (\n              <div\n                className={`tab-pane fade show ${!i && \"active\"}`}\n                id={tabKey}\n                role=\"tabpanel\"\n                aria-labelledby={`${tabKey}-tab`}\n              >\n                {tabObject[tabKey]}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Component;\n","import React, { useState, useEffect } from \"react\";\nimport Counter from \"../counter\";\n\nconst Component = ({ children, data, onUpdate }) => {\n  const [activeMediaIndex, setActiveMediaIndex] = useState(0);\n  const [quantity, setQuantity] = useState(0);\n  const price = 20;\n\n  const nextMedia = () => {\n    setActiveMediaIndex((i) => {\n      console.log(i);\n      if (i < data?.media?.length - 1) {\n        return i + 1;\n      } else {\n        return 0;\n      }\n    });\n  };\n\n  return (\n    <div className=\"product__item-wrapper mb-20\">\n      <div className=\"product__item white-bg\">\n        {activeMediaIndex + 1} / {data?.media?.length}\n        <div className=\"product__thumb p-relative\">\n          {data?.media[activeMediaIndex]?.type === \"photo\" && (\n            <div className=\"w-img\" onClick={nextMedia}>\n              {data?.media?.length && (\n                <img\n                  src={data?.media?.length && data?.media[activeMediaIndex].url}\n                  alt=\"product\"\n                />\n              )}\n            </div>\n          )}\n          <div className=\"w-img\">\n            {\"\" && data?.media[activeMediaIndex]?.type === \"video\" && (\n              <video controls>\n                <source\n                  src={data?.media[activeMediaIndex].url}\n                  type=\"video/mp4\"\n                />\n                Your browser does not support the video tag.\n              </video>\n            )}\n          </div>\n        </div>\n        <div className=\"product__content text-center\">\n          <h6 className=\"product-name\">{data?.title}</h6>\n          <span className=\"new\">RM{price}</span>\n          <div>\n            <div>\n              <textarea placeholder=\"write your order\"></textarea>\n            </div>\n            <div div className=\"f-left\">\n              Total: {quantity * price}\n            </div>\n\n            <div className=\"f-right\">\n              <Counter\n                initialQuantity={data.quantity || 0}\n                onChanged={(quantity) => {\n                  \n                  onUpdate &&\n                    onUpdate({\n                      ...data,\n                      quantity,\n                    });\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Component;\n","/* global FB */\nimport * as React from \"react\";\nimport type { HeadFC } from \"gatsby\";\nimport Layout from \"../components/layout/Layout\";\nimport { navigate, graphql } from \"gatsby\";\nimport Card from \"react-bootstrap/Card\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Modal from \"../components/modal/modal\";\nimport Tab from \"../components/tab/tab\";\nimport ProductCard from \"../components/card/Product\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { useTranslation } from \"gatsby-plugin-react-i18next\";\nimport { WrappedParse as Parse } from \"../vendor/ParseApp\";\nimport HowItWorks from \"../components/section/HowItWorks\";\nimport { useDispatch } from \"react-redux\";\nimport { updateCart } from '../helpers/action' \nimport { shallowEqual, useSelector } from \"react-redux\";\n\nconst TabContent = ({ items }) => {\n  const cartItems = useSelector((state) => state?.cart?.items, shallowEqual);\n  const ss = useSelector((state) => state, shallowEqual);\n  const dispatch = useDispatch();\n  React.useEffect(() => {}, []);\n\n  const onUpdate = (productData) => {\n\n    const action = updateCart({\n      id: productData.id,\n      quantity: productData.quantity\n    })\n    dispatch(action);\n  };\n\n  return (\n    <div className=\"row\">\n      {items.map((item) => (\n        <div className=\"col-xxl-2 col-xl-2 col-lg-3 col-md-6 col-sm-6\">\n          <ProductCard data={item} onUpdate={onUpdate} />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst IndexPage = ({ data }) => {\n  const cartItems = useSelector((state) => state?.cart?.items, shallowEqual);\n  const { t } = useTranslation();\n  const user = Parse?.User?.current();\n  const isAuthenticated = !!user;\n  console.log(\"---cartItems\");\n  console.log(cartItems);\n  console.log(\"---cartItems\");\n  const products = data?.products?.edges?.map((node) => ({\n    ...node.node,\n    quantity: cartItems.find((i) => i.id === node.node.id)?.quantity || 0,\n    test: node.node.id,\n    test2: !!cartItems.find((i) => i.id === node.node.id),\n  }));\n\n  console.log(products);\n  return (\n    <>\n      <section className=\"flash__sell pt-25 pb-40 grey-bg-2\">\n        <Tab\n          title=\"Hot\"\n          titleBold=\"Deals\"\n          tabObject={{\n            groupbuy: <TabContent items={products} />,\n          }}\n        />\n      </section>\n    </>\n  );\n};\n\nexport default IndexPage;\n\nexport const Head: HeadFC = () => <title>Home Page</title>;\n\nexport const query = graphql`\n  query ($language: String!) {\n    locales: allLocale(filter: { language: { eq: $language } }) {\n      edges {\n        node {\n          ns\n          data\n          language\n        }\n      }\n    }\n\n    products: allProduct {\n      edges {\n        node {\n          id\n          media {\n            type\n            url\n          }\n        }\n      }\n    }\n  }\n`;\n","import React, { useState } from \"react\";\n\nconst Component = ({ children, onChanged, initialQuantity }) => {\n  const [quantity, setQuantity] = useState(initialQuantity);\n  const adjustCart = (offset) => {\n    const count = quantity + offset;\n    if (count > -1) {\n      setQuantity(count);\n      onChanged && onChanged(count);\n    }\n  };\n  return (\n    <div className={`card  product__content`}>\n      <div>\n        <a className=\"btn btn-primary btn-social\">\n          <i className=\"fal fa-minus fa-lg\" onClick={() => adjustCart(-1)}></i>\n        </a>\n        <span>{`${quantity}`}</span>\n        <a className=\"btn btn-primary btn-social\">\n          <i className=\"fal fa-plus fa-lg\" onClick={() => adjustCart(1)}></i>\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default Component;\n"],"names":["updateCart","id","quantity","comments","type","UPDATE_CART","payload","item","title","titleBold","children","tabObject","React","className","Object","keys","map","tabKey","i","role","data","onUpdate","useState","activeMediaIndex","setActiveMediaIndex","media","_data$media2","length","onClick","console","log","src","url","alt","placeholder","div","Counter","initialQuantity","onChanged","TabContent","items","dispatch","useSelector","state","cart","_state$cart","shallowEqual","useDispatch","productData","action","ProductCard","cartItems","_state$cart2","useTranslation","t","Parse","_Parse$User","current","products","_data$products","edges","_data$products$edges","node","find","test","test2","Tab","groupbuy","Head","setQuantity","adjustCart","offset","count"],"sourceRoot":""}