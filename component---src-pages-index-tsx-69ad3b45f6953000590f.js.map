{"version":3,"file":"component---src-pages-index-tsx-69ad3b45f6953000590f.js","mappings":"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","sources":["webpack://inweb/./src/components/tab/tab.tsx","webpack://inweb/./src/components/card/Product.tsx","webpack://inweb/./src/pages/index.tsx"],"sourcesContent":["import React from \"react\";\nimport ProductCard from \"../card/Product\";\n\nconst Component = ({ title, titleBold, children, tabObject = {} }) => {\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-xl-12\">\n          <div className=\"section__head d-md-flex justify-content-between mb-40\">\n            <div className=\"section__title\">\n              <h3>\n                GroupBuy<span> Deals</span>\n              </h3>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-xl-12\">\n          <div className=\"tab-content\" id=\"flast-sell-tabContent\">\n            {Object.keys(tabObject).map((tabKey, i) => (\n              <div\n                className={`tab-pane fade show ${!i && \"active\"}`}\n                id={tabKey}\n                role=\"tabpanel\"\n                aria-labelledby={`${tabKey}-tab`}\n              >\n                {tabObject[tabKey]}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Component;\n","import React, { useState, useEffect } from \"react\";\n\nconst Component = ({ children, data, onUpdate }) => {\n  const [activeMediaIndex, setActiveMediaIndex] = useState(0);\n  const [quantity, setQuantity] = useState(0);\n  const price = 20;\n\n  useEffect(() => {\n    onUpdate &&\n      onUpdate({\n        ...data,\n        quantity,\n      });\n  }, [quantity]);\n\n  const adjustCart = (offset) => {\n    const count = quantity + offset;\n    if (count > -1) {\n      setQuantity(count);\n    }\n  };\n\n  const nextMedia = () => {\n    setActiveMediaIndex((i) => {\n      console.log(i);\n      if (i < data?.media?.length - 1) {\n        return i + 1;\n      } else {\n        return 0;\n      }\n    });\n  };\n\n  return (\n    <div className=\"product__item-wrapper mb-20\">\n      <div className=\"product__item white-bg\">\n        {activeMediaIndex + 1} / {data?.media?.length}\n        <div className=\"product__thumb p-relative\">\n          {data?.media[activeMediaIndex]?.type === \"photo\" && (\n            <div className=\"w-img\" onClick={nextMedia}>\n              {data?.media?.length && (\n                <img\n                  src={data?.media?.length && data?.media[activeMediaIndex].url}\n                  alt=\"product\"\n                />\n              )}\n            </div>\n          )}\n          <div className=\"w-img\">\n            {\"\" && data?.media[activeMediaIndex]?.type === \"video\" && (\n              <video controls>\n                <source\n                  src={data?.media[activeMediaIndex].url}\n                  type=\"video/mp4\"\n                />\n                Your browser does not support the video tag.\n              </video>\n            )}\n          </div>\n        </div>\n        <div className=\"product__content text-center\">\n          <h6 className=\"product-name\">{data?.title}</h6>\n          <span className=\"new\">RM{price}</span>\n          <div>\n            <div>\n              <textarea placeholder=\"write your order\"></textarea>\n            </div>\n            <div div className=\"f-left\">\n              Total: {quantity * price}\n            </div>\n\n            <div className=\"f-right\">\n              <a className=\"btn btn-primary btn-social\">\n                <i\n                  className=\"fal fa-minus fa-lg\"\n                  onClick={() => adjustCart(-1)}\n                ></i>\n              </a>\n              <span>{`${quantity}`}</span>\n              <a className=\"btn btn-primary btn-social\">\n                <i\n                  className=\"fal fa-plus fa-lg\"\n                  onClick={() => adjustCart(1)}\n                ></i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Component;\n","/* global FB */\nimport * as React from \"react\";\nimport type { HeadFC } from \"gatsby\";\nimport Layout from \"../components/layout/Layout\";\nimport { navigate, graphql } from \"gatsby\";\nimport Card from \"react-bootstrap/Card\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Modal from \"../components/modal/modal\";\nimport Tab from \"../components/tab/tab\";\nimport ProductCard from \"../components/card/Product\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { useTranslation } from \"gatsby-plugin-react-i18next\";\nimport { WrappedParse as Parse } from \"../vendor/ParseApp\";\nimport HowItWorks from \"../components/section/HowItWorks\";\nimport { useDispatch } from \"react-redux\";\nimport { UPDATE_CART } from \"../state/actions/actions\";\nimport { shallowEqual, useSelector } from \"react-redux\";\n\nconst TabContent = ({ items }) => {\n  const cartItems = useSelector((state) => state?.cart?.items);\n  const dispatch = useDispatch();\n\n  const updateCart = (originalCartItems, productData) => {\n    const itemIndex = originalCartItems.findIndex(\n      (item) => item.id === productData.id\n    );\n    if (productData.quantity <= 0) {\n      originalCartItems.splice(itemIndex, 1);\n    } else {\n      if (itemIndex > -1) {\n        originalCartItems[itemIndex] = productData;\n      } else {\n        originalCartItems.push(productData);\n      }\n    }\n    return originalCartItems;\n  };\n\n  const onUpdate = (productData) => {\n    dispatch({\n      type: UPDATE_CART,\n      payload: updateCart(cartItems, productData),\n    });\n  };\n\n  return (\n    <div className=\"row\">\n      {items.map((item) => (\n        <div className=\"col-xxl-2 col-xl-2 col-lg-3 col-md-6 col-sm-6\">\n          <ProductCard data={item} onUpdate={onUpdate} />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst IndexPage = ({ data }) => {\n  const { t } = useTranslation();\n  const user = Parse?.User?.current();\n  const isAuthenticated = !!user;\n  const products = data?.products?.edges?.map((node) => ({\n    ...node.node,\n  }));\n  return (\n    <>\n      <section className=\"flash__sell pt-25 pb-40 grey-bg-2\">\n        <Tab\n          title=\"Hot\"\n          titleBold=\"Deals\"\n          tabObject={{\n            groupbuy: <TabContent items={products} />,\n          }}\n        />\n      </section>\n    </>\n  );\n};\n\nexport default IndexPage;\n\nexport const Head: HeadFC = () => <title>Home Page</title>;\n\nexport const query = graphql`\n  query ($language: String!) {\n    locales: allLocale(filter: { language: { eq: $language } }) {\n      edges {\n        node {\n          ns\n          data\n          language\n        }\n      }\n    }\n\n    products: allProduct {\n      edges {\n        node {\n          id\n          media {\n            type\n            url\n          }\n        }\n      }\n    }\n  }\n`;\n"],"names":["title","titleBold","children","tabObject","React","className","id","Object","keys","map","tabKey","i","role","data","onUpdate","useState","activeMediaIndex","setActiveMediaIndex","quantity","setQuantity","useEffect","adjustCart","offset","count","media","_data$media2","length","type","onClick","console","log","src","url","alt","placeholder","div","TabContent","items","cartItems","useSelector","state","cart","_state$cart","dispatch","useDispatch","updateCart","originalCartItems","productData","itemIndex","findIndex","item","splice","push","UPDATE_CART","payload","ProductCard","products","useTranslation","t","Parse","_Parse$User","current","_data$products","edges","_data$products$edges","node","Tab","groupbuy","Head"],"sourceRoot":""}