{"version":3,"file":"component---src-pages-number-finder-js-c5897cc0bbe74a776147.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/numberFinder.js"],"sourcesContent":["import * as React from \"react\"\nimport { Link } from \"gatsby\"\nimport { StaticImage } from \"gatsby-plugin-image\"\nimport Card from \"../components/Card\"\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport { Form, Button, InputGroup, Breadcrumb, Table } from '@themesberg/react-bootstrap';\nimport Grid from '../components/Grid'\nimport { navigate } from \"gatsby\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faBell, faHome, faEnvelopeOpen, faSearch, faSignOutAlt, faUserShield, faAngleDown, faEye } from \"@fortawesome/free-solid-svg-icons\";\nimport Parse from '../vendor/Parse'\nimport { useLocation } from '@reach/router';\nimport NumberTable from '../components/NumberTable'\nimport { Modal } from '@themesberg/react-bootstrap';\nimport useAuth from \"../hooks/userAuth\";\nconst { useState } = React;\n\nconst Profile1 = \"images/2021-01-30.jpg\";\nconst IndexPage = () => {\n\n  const location = useLocation();\n  const qs = new URLSearchParams(location.search)\n  const { isLogin } = useAuth()\n  const [items, setItems] = useState([])\n  const [query, setQuery] = useState(qs.get('search') || \"\")\n  const [checklist, setChecklist] = useState([])\n  const [suggestion, setSuggestion] = useState([])\n  const [displayInfo, setDisplayInfo] = useState(null)\n  const searchNumbers = async (query) => {\n    const res = await Parse.Cloud.run('queryNumbers', {\n      query\n    })\n    setItems(res.data)\n  }\n\n  const notWhatsppFlow = ['admin', 'user'].includes(isLogin?.role)\n  const getMySuggestion = async () => {\n    const res = await Parse.Cloud.run('getMySuggestedNumber')\n    setChecklist(res.checklist)\n    setSuggestion(res.suggestion)\n  }\n\n  React.useEffect(() => {\n    searchNumbers(query)\n    getMySuggestion()\n  }, [])\n\n  const handleSearchButton = async () => {\n    await searchNumbers(query)\n  }\n\n  const handleItem = async (item) => {\n\n    if (notWhatsppFlow) {\n      const res = await Parse.Cloud.run('querySpecificNumber', {\n        _id: item._id\n      })\n\n      setDisplayInfo(<>\n        {res.num} is detected at  {res.sourceId} on {res.date}\n        <br />\n        <a style={{ color: '#25D366', textDecoration: 'none' }} href={`https://api.whatsapp.com/send?phone=6587413159&text=Find Mobile Number`}>whatsapp</a> us if you need help getting the number\n      </>)\n    } else {\n      const url = `https://api.whatsapp.com/send?phone=6587413159&text=` + encodeURIComponent(`Enquiry on ${item.num} with id ${item._id}`)\n      navigate(url)\n    }\n\n  }\n\n  const handleClose = () => {\n    setDisplayInfo(null)\n  }\n\n  return <Layout afterSearch={<></>} >\n    <h3 className=\"text-center\">SG Mobile Number Finding</h3>\n    <h2 className=\"text-center\">\n      <a style={{ color: '#25D366', textDecoration: 'none' }} href={`https://api.whatsapp.com/send?phone=6587413159&text=Find Mobile Number`}>whatsapp</a> us to access our number list\n    </h2>\n    <h3>Monitoring List - <span style={{ color: 'red' }}>We will Give You First Hand Information on your Monitoring List.</span></h3>\n    <h4> </h4>\n    <div>\n      <h4>{checklist.join(', ')}</h4>\n      <NumberTable items={suggestion} onItem={(item) => { handleItem(item) }} />\n\n    </div>\n\n    <h3>Free Search For Other Number - {!isLogin && <span style={{ color: 'red' }}>You are seeing a limited set</span>} </h3>\n    <div className=\"d-xl-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4 flex-column\">\n      <Form className=\"\">\n        <Form.Group id=\"topbarSearch\">\n          <InputGroup className=\"input-group-merge search-bar\">\n            <InputGroup.Text><FontAwesomeIcon icon={faSearch} /></InputGroup.Text>\n            <Form.Control type=\"text\" name=\"search\" placeholder=\"Search\" value={query} onChange={(e) => setQuery(e.target.value)} />\n            <Button type=\"submit\" onClick={handleSearchButton} variant=\"primary\" size=\"sm\" className=\"me-2\">\n              Find\n            </Button>\n          </InputGroup>\n        </Form.Group>\n      </Form>\n      <NumberTable items={items} onItem={item => handleItem && handleItem(item)} />\n\n\n    </div>\n\n    <Modal as={Modal.Dialog} centered show={displayInfo} onHide={handleClose}>\n      <Modal.Header>\n        <Modal.Title className=\"h6\">Information</Modal.Title>\n        <Button variant=\"close\" aria-label=\"Close\" onClick={handleClose} />\n      </Modal.Header>\n      <Modal.Body>\n        {displayInfo}\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          I Got It\n        </Button>\n        <Button variant=\"link\" className=\"text-gray ms-auto\" onClick={handleClose}>\n          Close\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  </Layout >\n}\n\n/**\n * Head export to define metadata for the page\n *\n * See: https://www.gatsbyjs.com/docs/reference/built-in-components/gatsby-head/\n */\nexport const Head = () => <Seo title=\"Home\" />\n\nexport default IndexPage\n"],"names":["useState","React","Head","Seo","title","IndexPage","location","useLocation","qs","URLSearchParams","search","isLogin","useAuth","items","setItems","query","setQuery","get","checklist","setChecklist","suggestion","setSuggestion","displayInfo","setDisplayInfo","searchNumbers","async","res","Parse","Cloud","run","data","notWhatsppFlow","includes","role","getMySuggestion","handleItem","_id","item","num","sourceId","date","style","color","textDecoration","href","url","encodeURIComponent","navigate","handleClose","Layout","afterSearch","className","join","NumberTable","onItem","Form","Group","id","InputGroup","Text","FontAwesomeIcon","icon","faSearch","Control","type","name","placeholder","value","onChange","e","target","Button","onClick","variant","size","Modal","as","Dialog","centered","show","onHide","Header","Title","Body","Footer"],"sourceRoot":""}